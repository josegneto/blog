{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/plates/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Projects","author":"José Neto"}},"markdownRemark":{"id":"4e8101f1-8c45-5189-a0e8-7f22862fdc42","html":"<p>The <em>License Plate Recognition</em> project was developed in the context of <em>Vision-Based Systems</em>, a 4th year course in FEUP’s MIEEC. I worked with André Ribeiro, João Oliveira and Leonor Santos, who I hope are doing great in their careers.</p>\n<p>The project was divided into two main tasks:</p>\n<ol>\n<li>\n<p>Develop an algorithm for <strong>the detection of the car plate area</strong>. The algorithm should detect and segment the plate and create a region of interest (ROI) containing the detected area. The algorithm should be automatic, i.e., work without any user interaction. Finally, the performance of the detection method is to be evaluated via the <em>Jaccard Index</em> of the segmented ROI.</p>\n</li>\n<li>\n<p>Develop an algorithm to <strong>identify the characters</strong> (letters and digits) that form the plate. The algorithm should be applied to the plate images that can be obtained from the ground-truth (GT) of the first task. The performance of the method is to be evaluated via the percentage of well recognized chars in each plate.</p>\n</li>\n</ol>\n<p>I was alocated to the second task, so this post will focus on that.</p>\n<div style=\"text-align: center\">\n   <figure>\n  <img src=\"/blog/36a442f00af45ac1dc5bb6cf712540e1/plates.gif\" style=\"width:80%\">\n  <figcaption style=\"font-style: italic; margin-top:-30px\">Plates to identify</figcaption>\n  </figure>\n  </div>\n<h2 id=\"character-detection\" style=\"position:relative;\"><a href=\"#character-detection\" aria-label=\"character detection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Character detection</h2>\n<p>After processing the image, the detection of character regions is performed using the <em>regionprops</em> function. The result of the detection is represented in the figure below, where a rectangle is drawn around each region.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/4c8dbbf9c16520b8ceacf6381127b481/6295b/plate1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACUUlEQVQozyXP20tTAQCA8YM+iAUSQRdU5otaOA1reKHoYZqWoC5Xc8nMIKeZtxIvBUlE9hBYzDQz53Tucrajm2kXt2bes1KYKdOiUkztIthTf8EX2POP7+ETNta3MJsdmE1WJn2jTPommJ/2s7a8ytrSMsOSyOiAi82lAOODLqZePWfY6eBnIIBXkpCMnUy+fMGs18ObPgfCrx9bOKwi7mcuLBYTrz0+3o5Ns+CZY3t1gw/vZpgY8eJ/P8OTlgcMuSXs1m621r8jWWyIli7s1nacNivDbifC1u8/uPsH8Y54sVnN+EbGmR2bYluU+PttFe+wh5XPn+g1deJ22BjsF3FJIsuLfkRrF/beHhzdRkR7J0NOO8KXwAodbU95bGjBLfbR2mxgYc7P5mKAZf88A04nG19X6LdY6WlvxWLswG7qZnt9HVO7AWPbI4acEh+nxzG1tSCkxB3BUFtP42U9GkUy2uMnUR5LIioikhrtBZqvXUdxMJxb+lJKzmTRWFqK7lQG4fv2o8/Nofr8OUqys0lPSOC0QoFwOEpGfHQ02rMqdEolJ1KSSTwUiyAIxEZGUpyXx4GgIOx2G7VqNXebmtBkZOx4fVkZNyoquV9RQWV1NVe1WoTEmBhy09IoKSjgpk6HTq0mOU6+E1wpukRUWBi3y8t5aDDQoNFQ29BAQVbWjt+pq6NKr+deWRlVNTUU5eQg7AkNpaawkNNJSaTL5VTk57M7OJhdISFkKhTsFQSORkSgUirJlMu5qFKRGvv/QK9WU5ybS7JMRrxMRmpMDP8AidKKrSZbHpcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"plate1\"\n        title=\"plate1\"\n        src=\"/blog/static/4c8dbbf9c16520b8ceacf6381127b481/fcda8/plate1.png\"\n        srcset=\"/blog/static/4c8dbbf9c16520b8ceacf6381127b481/12f09/plate1.png 148w,\n/blog/static/4c8dbbf9c16520b8ceacf6381127b481/e4a3f/plate1.png 295w,\n/blog/static/4c8dbbf9c16520b8ceacf6381127b481/fcda8/plate1.png 590w,\n/blog/static/4c8dbbf9c16520b8ceacf6381127b481/efc66/plate1.png 885w,\n/blog/static/4c8dbbf9c16520b8ceacf6381127b481/6295b/plate1.png 919w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>In the next step, each of the detected characters is stored in a vector.\r\nEach of the characters enters a cycle where it will be compared with all possible characters at its position.</p>\n<p>Analyzing all the available license plates, it was noticied that some positions could only be letters or numbers. So, depending on the index of the character in the license plate, it was known from the start whether it would correspond to a number or a letter.</p>\n<ul>\n<li>Indexes 1 and 2 - letters</li>\n<li>Indexes 3, 4 and 5 - number</li>\n<li>Index 6 - letter or number</li>\n<li>Indexes 7 and 8 - letter</li>\n</ul>\n<p>Using this knowledge, we can limit the number of comparisons to be made next. Furthermore, characterizing the number of <em>holes</em> present in each character will also allow us to reduce the number of iterations to be performed. For this, we resort to the Euler number, obtained through the function <em>regionprops</em>.</p>\n<ul>\n<li>Euler number = 0 (1 hole)\n<ul>\n<li>Letters: <em>A, D, O, P, Q, R</em></li>\n<li>Numbers: <em>0, 4, 6, 9</em></li>\n</ul>\n</li>\n<li>Euler number = 1 (0 holes)\n<ul>\n<li>Letters: <em>C, E, F, G, H, I, J, K, L, M, N, S, T, U, V, W, X, Y, Z</em></li>\n<li>Numbers: <em>1, 2, 3, 5, 7</em></li>\n</ul>\n</li>\n<li>Euler number = -1 (2 holes)\n<ul>\n<li>Letters: <em>B</em></li>\n<li>Numbers: <em>8</em></li>\n</ul>\n</li>\n</ul>\n<p>Using the example plate above, the first character will only be compared with letters and, within these, only with those with 1 hole, going from 36 possible comparisons (10 numerals + 26 letters) to 6.</p>\n<p>The templates were obtained by sampling characters from the license plates under study. For certain letters that are not present in the dataset provided, characters of a typeface with an alphabet very similar to that found in the license plates (Targa) were used as templates.</p>\n<p>The implemented template matching method is based on <em>cross correlation</em>. For each template and over each region the function <em>normxcorr2</em> is applied.  The identified character corresponds to the one presenting the template with the highest correlation index. Note that a rescaling of the template to character dimensions is performed before performing the comparison.</p>\n<h2 id=\"results\" style=\"position:relative;\"><a href=\"#results\" aria-label=\"results permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Results</h2>\n<p>With the exception of plate #21, all license plates are correctly identified. The misidentified character corresponds to a zero interpreted as the letter ‘O’. Being at position 6, the algorithm described above will have to go through both digits and letters, being unable to distinguish between the two. The case in question is represented in the figure following figure.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/c4b7c/plate21.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB+ElEQVQozz2OzUuTAQCH34uCeBFW4kkQooGdPDhzEkMQ9/Gu0NxmkBhMdgu87bBDh/0LxTDooGub0+am71zpvnK6d2u6OR0uLI0RVpcMM62JkU80ocPv8uPh4RFOqn+IZzfxBJaQohnm42kqn88p7V1Q/vANbyhKTC4xG1lhIZYlHMshRVdJprcIROIcHZ9yUj3DF4yw//EAAaBU3iWTL5CU06zmNvi0/4WD1B6VdxUmZwLMzC+yVd4hHIuRWEvzOr3GcjJF+e0u8ps8pyc/yawXqVZ/XQp9wUW+fj9Gzm8SiETh/Df8OOPw8IhwYpVUboNcsUSmUGRtPY+cL5Ld2kYublML2nmPXNjmAhDCUgL3jITXL+HxBfF4QrwMRVkKJwlOS7geTzI9NYfryRR+zwITrinmAss8f+Yn4A6ReLXCxFMvbm+EF7MSgiAI3BZF7g4Oolar6epS/Ttrq6ur497wMDfa29Hr9Wj7++lRq7ljNKLt7MRqNnFNcaXG9nR3YzSKCA0NDfT19dHR0YHBYECr1dLY2FiD2tracDqdWK1WNBoNFouF+yMj3FSpeDQ+zq3eXvpVlwF6nZ7m5mYEpVKJw+GgtbUVk8nE2NgY9fX1/4U2mw2dTofZbGZoaIiBgQGMosgDUeTh6CjXFQqutrRgt9tpamriL3XUbjs6Yu0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"plate21\"\n        title=\"plate21\"\n        src=\"/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/fcda8/plate21.png\"\n        srcset=\"/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/12f09/plate21.png 148w,\n/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/e4a3f/plate21.png 295w,\n/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/fcda8/plate21.png 590w,\n/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/efc66/plate21.png 885w,\n/blog/static/6ea0c047339d9cdc2bffcf55a287bc9a/c4b7c/plate21.png 903w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>The percentage of correctly identified license plates is <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>39</mn><mn>40</mn></mfrac><mo>=</mo><mn>97.5</mn><mi mathvariant=\"normal\">%</mi></mrow><annotation encoding=\"application/x-tex\">\\frac{39}{40} = 97.5\\%</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">40</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">39</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8056em;vertical-align:-0.0556em;\"></span><span class=\"mord\">97.5%</span></span></span></span></span>.</p>","timeToRead":3,"frontmatter":{"title":"License Plate Recognition","date":"December 15, 2019","spoiler":"Detection and recognition of car plates in images of car backs"},"fields":{"slug":"/plates/","langKey":"en"}}},"pageContext":{"slug":"/plates/","previous":{"fields":{"slug":"/memorygame/","langKey":"en","directoryName":"memorygame"},"frontmatter":{"title":"Memory Game"}},"next":{"fields":{"slug":"/checkmates/","langKey":"en","directoryName":"checkmates"},"frontmatter":{"title":"CheckMates"}},"translations":[],"translatedLinks":[]}},
    "staticQueryHashes": ["708209134"]}